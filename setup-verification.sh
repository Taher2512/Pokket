#!/bin/bash

echo "üîç Pokket Identity Verification - Setup Requirements"
echo "=================================================="
echo ""

echo "üìã What you need to provide:"
echo ""

echo "1Ô∏è‚É£ CONTRACT OWNER'S PRIVATE KEY"
echo "   Location: apps/backend/.env"
echo "   Variable: VERIFICATION_PRIVATE_KEY"
echo "   Purpose: Allows the backend to verify users manually"
echo ""
echo "   How to get it:"
echo "   - This is the private key of the account that deployed the contract"
echo "   - It should be the same key used in your PRIVATE_KEY when deploying"
echo "   - Contract address: 0xbad8F4ffD864b4cB2E043C197c697C22f4B899Aa"
echo ""

echo "2Ô∏è‚É£ SELF PROTOCOL CONFIG ID (Already set)"
echo "   Value: 0x766466f264a44af31cd388cd05801bcc5dfff4980ee97503579db8b3d0742a7e"
echo "   Status: ‚úÖ Already configured in your deployment script"
echo ""

echo "3Ô∏è‚É£ UPDATE BACKEND .env FILE"
echo "   Current status of VERIFICATION_PRIVATE_KEY: $(grep VERIFICATION_PRIVATE_KEY apps/backend/.env || echo 'NOT SET')"
echo ""

echo "üîß Required Actions:"
echo ""
echo "1. Replace 'ADD_CONTRACT_OWNER_PRIVATE_KEY_HERE' in apps/backend/.env"
echo "   with your actual private key (the one used to deploy the contract)"
echo ""
echo "2. Restart your backend server after updating the .env file"
echo ""
echo "3. Test verification using:"
echo "   node test-verification-setup.js"
echo ""

echo "‚ö†Ô∏è  SECURITY NOTE:"
echo "   - Never commit private keys to git"
echo "   - Use environment variables in production"
echo "   - This is testnet, but still keep keys secure"
echo ""

echo "üéØ After setup, your verification flow will:"
echo "   ‚úÖ Work with manual verification (for testing)"
echo "   ‚úÖ Show verification status on QR codes" 
echo "   ‚úÖ Allow users to see who is verified"
echo "   ‚úÖ Provide fallback when Self Protocol isn't available"